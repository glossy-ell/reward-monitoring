<!DOCTYPE html>
<!-- saved from url=(0065)https://ocb-gm.srk.co.kr/Mission/searchStaticList?searchIdx=28004 -->
<html lang="ko" xmlns:th="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Admin</title>

	<link href="/Front_files/perfect-scrollbar.css" rel="stylesheet" type="text/css">
	<!--begin:: Global Optional Vendors -->
	<link href="/Front_files/tether.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/bootstrap-datepicker3.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/bootstrap-datetimepicker.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/bootstrap-timepicker.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/daterangepicker.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/jquery.bootstrap-touchspin.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/bootstrap-select.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/nouislider.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/owl.carousel.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/owl.theme.default.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/dropzone.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/summernote.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/bootstrap-markdown.min.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/animate.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/toastr.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/morris.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/line-awesome.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/flaticon.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/flaticon(1).css" rel="stylesheet" type="text/css">
	<link href="/Front_files/style.bundle.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/light.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/light(1).css" rel="stylesheet" type="text/css">
	<link href="/Front_files/navy.css" rel="stylesheet" type="text/css">
	<link href="/Front_files/navy(1).css" rel="stylesheet" type="text/css">

	<!-- swiper gallery -->
	<link href="/Front_files/swiper.min.css" rel="stylesheet">

	<!-- Reform -->
	<link href="/Front_files/reform.css" rel="stylesheet" type="text/css">

	<!-- conan style -->
	<link href="/Front_files/conan_style.css" rel="stylesheet" type="text/css">

	<!--begin:: Global Mandatory Vendors -->
	<script src="/Front_files/jquery.js" type="text/javascript"></script>
	<script src="/Front_files/popper.js" type="text/javascript"></script>
	<script src="/Front_files/bootstrap.min.js" type="text/javascript"></script>
	<script src="/Front_files/js.cookie.js" type="text/javascript"></script>
	<script src="/Front_files/moment.min.js" type="text/javascript"></script>
	<script src="/Front_files/tooltip.min.js" type="text/javascript"></script>
	<script src="/Front_files/perfect-scrollbar.js" type="text/javascript"></script>
	<script src="/Front_files/sticky.min.js" type="text/javascript"></script>
	<script src="/Front_files/wNumb.js" type="text/javascript"></script>
	<script src="/Front_files/jquery.form.min.js" type="text/javascript"></script>
	<script src="/Front_files/jquery.blockUI.js" type="text/javascript"></script>
	<script src="/Front_files/bootstrap-datepicker.min.js" type="text/javascript"></script>
	<script src="/Front_files/init.js" type="text/javascript"></script>
	<script src="/Front_files/bootstrap-datetimepicker.min.js" type="text/javascript"></script>
	<script src="/Front_files/bootstrap-timepicker.min.js" type="text/javascript"></script>
	<script src="/Front_files/init(1).js" type="text/javascript"></script>
	<script src="/Front_files/daterangepicker.js" type="text/javascript"></script>
	<script src="/Front_files/jquery.bootstrap-touchspin.js" type="text/javascript"></script>
	<script src="/Front_files/bootstrap-maxlength.js" type="text/javascript"></script>
	<script src="/Front_files/bootstrap-multiselectsplitter.min.js" type="text/javascript"></script>
	<script src="/Front_files/bootstrap-select.js" type="text/javascript"></script>
	<script src="/Front_files/typeahead.bundle.js" type="text/javascript"></script>
	<script src="/Front_files/handlebars.js" type="text/javascript"></script>
	<script src="/Front_files/nouislider.js" type="text/javascript"></script>
	<script src="/Front_files/owl.carousel.js" type="text/javascript"></script>
	<script src="/Front_files/autosize.js" type="text/javascript"></script>
	<script src="/Front_files/clipboard.min.js" type="text/javascript"></script>
	<script src="/Front_files/dropzone.js" type="text/javascript"></script>
	<script src="/Front_files/markdown.js" type="text/javascript"></script>
	<script src="/Front_files/bootstrap-markdown.js" type="text/javascript"></script>
	<script src="/Front_files/init(2).js" type="text/javascript"></script>
	<script src="/Front_files/jquery.validate.js" type="text/javascript"></script>
	<script src="/Front_files/additional-methods.js" type="text/javascript"></script>
	<script src="/Front_files/init(3).js" type="text/javascript"></script>
	<script src="/Front_files/toastr.min.js" type="text/javascript"></script>
	<script src="/Front_files/raphael.js" type="text/javascript"></script>
	<script src="/Front_files/morris.js" type="text/javascript"></script>
	<script src="/Front_files/Chart.bundle.js" type="text/javascript"></script><style type="text/css">/* Chart.js */
@-webkit-keyframes chartjs-render-animation{from{opacity:0.99}to{opacity:1}}@keyframes chartjs-render-animation{from{opacity:0.99}to{opacity:1}}.chartjs-render-monitor{-webkit-animation:chartjs-render-animation 0.001s;animation:chartjs-render-animation 0.001s;}</style>
	<script src="/Front_files/bootstrap-session-timeout.min.js" type="text/javascript"></script>
	<script src="/Front_files/idle-timer.min.js" type="text/javascript"></script>
	<script src="/Front_files/jquery.waypoints.js" type="text/javascript"></script>
	<script src="/Front_files/jquery.counterup.js" type="text/javascript"></script>
	<script src="/Front_files/promise.min.js" type="text/javascript"></script>
	<script src="/Front_files/lib.js" type="text/javascript"></script>
	<script src="/Front_files/jquery.input.js" type="text/javascript"></script>
	<script src="/Front_files/repeater.js" type="text/javascript"></script>
	<script src="/Front_files/purify.js" type="text/javascript"></script>

	<!--end:: Global Optional Vendors -->

	<!--begin::Global Theme Bundle -->
	<script src="/Front_files/scripts.bundle.js" type="text/javascript"></script>

	<!--end::Global Theme Bundle -->

	<!--begin::Page Scripts -->
	<script src="/Front_files/bootstrap-datepicker.js" type="text/javascript"></script>

	<!--end::Page Scripts -->

	<!--begin::Global App Bundle -->
	<script src="/Front_files/app.bundle.js" type="text/javascript"></script>

	<!--end::Global App Bundle -->
	<script src="/Front_files/common.js"></script>

	<!-- swiper gallery -->
	<script src="/Front_files/swiper.min.js"></script>
	<!-- //swiper gallery -->

<script type="text/javascript">

    function enterkey() {
        if (window.event.keyCode == 13) {
            commSearch();
        }
    }

    function commSearch(idx) {
        var frm = document.searchFrm;
        var formData = new FormData(frm);
        var jsonData = {};
		formData.forEach((value, key) => {
			jsonData[key] = value; // FormData를 JSON 객체로 변환
		});
		$.ajax({
			url: `/Mission/searchStaticList/search/${idx}`,
			type: "POST",
			contentType: "application/json",
			data: JSON.stringify(jsonData),

			success: function(response) {
				const searchListContainer = $('#searchList); // 회원 목록을 표시할 컨테이너 선택
				searchListContainer.empty();

				if (response.searchMsns.length === 0) {  //검색결과가 빈 리스트일경우
				// 빈 리스트인 경우 메시지 추가
						$('#searchList').append('<tr><td colspan="9" class="text-center">검색 결과가 없습니다.</td></tr>');
				} else {
					response.searchMsns.forEach(function(searchMsn,index) {
					$('#searchList').append(
						  '<tr>' +
								'<td class="text-center font-weight-bold">' + searchMsn.partDate + '</td>' +
								'<td class="text-center align-middle">' + searchMsn.landingCnt + '</td>' +
								'<td class="text-center align-middle">' + searchMsn.partCnt + '</td>' +
						  '</tr>'
						);
					});
				}
			},
			error: function(xhr) {
			  if (xhr.status === 429) { // 429 Too Many Requests
					 alert(xhr.responseText); //
				} else {
				alert("검색중 오류가 발생하였습니다.");
				}
			}
		});

    }

    //검색 초기화
    function commSearchReset() {
        location.href = "/Mission/searchStaticList";   
    }    

    //Excel 다운로드
    function commDownExcel(idx) {
		window.location.href = '/Mission/searchStaticList/excel/' + idx;
    }

</script></head>

<body>
	<div class="k-content k-grid__item k-grid__item--fluid k-grid k-grid--hor" id="k_content">

		<div class="k-content__body	k-grid__item k-grid__item--fluid" id="k_content_body">
			<!-- k-portlet -->
			<div class="k-portlet">
				<div class="k-portlet__head">
					<div class="k-portlet__head-label">
						<h3 class="k-portlet__head-title font-weight-bold">인천점집
							<span class="text-danger" style="font-size:0.9rem;"> ( 검색기간을 입력해주세요. )</span>
                        </h3>
					</div>
				</div>

				<div class="k-portlet__body">
					<form method="get" name="searchFrm" class="k-form">
                        <input type="hidden" name="searchIdx" value="28004" id="searchIdx">
                        <div class="k-portlet__body-tool row">
                            <div class="tool-btn col-xl-6 col-lg-6">
                                <button type="button" class="btn btn-outline--main" onclick="commDownExcel();">EXCEL 다운로드</button>                                    
                            </div>
                            <div class="toolbar col-xl-6 col-lg-6">                                                
                                <div class="k-form__group">
                                    <div class="row">
										<div class="input-group col-xl-4 col-lg-4 col-sm-12">
											<select name="url" class="k_selectpicker form-control" th:onchange="'commSearch(' + ${searchMsn.idx} + ');'">
												<option value="" disabled selected>URL을 선택하세요</option>
												<th:block th:each="server : ${servers}">
													<option th:value="${server.serverUrl}" th:text="${server.serverUrl}"></option>
												</th:block>
											</select>
										</div>
										<div class="k-form__control col-xl-8 col-lg-8">
                                            <!-- datepicker 검색 기간 지정 -->
											<div class="input-daterange input-group">
												<!-- 검색 시작일 -->
												<input type="text" class="form-control btn-datepicker" name="startDate" placeholder="검색 시작일" th:value="${past}" autocomplete="off">

												<!-- ~ -->
												<div class="input-group-append">
													<span class="input-group-text">~</span>
												</div>

												<!-- 검색 종료일 -->
												<input type="text" class="form-control btn-datepicker" name="endDate" placeholder="검색 종료일" th:value="${currentTime}" autocomplete="off">
												<div class="input-group-append">
													<button type="button" class="btn btn-secondary" aria-expanded="false" th:onclick="'commSearch(' + ${searchMsn.idx} + ');'">검색</button>
												</div>
											</div>
                                            <!-- //datepicker 검색 기간 지정 -->
                                        </div>         
                                    </div>
                                </div>
                            </div>                            
                        </div>
					</form>

					<div class="table-responsive">
						<div class="mb-3"></div>
						<table class="table table-striped- table-bordered table-hover">
							<thead class="thead-light">
							<tr>
								<th class="text-center font-weight-bold">합계</th>
								<th class="text-center font-weight-bold">랜딩 카운트</th>
								<th class="text-center font-weight-bold">전환 카운트</th>
							</tr>
							</thead>
							<tbody id = "searchList">
							<tr th:if="${#lists.isEmpty(searchMsnDailyStat)}">
								<td colspan="2" style="text-align: center; vertical-align: middle;">데이터가 없습니다</td>
							</tr>

							<tr>
								<td class="text-center font-weight-bold">합계</td>
								<td class="text-center font-weight-bold" th:text="${totalLandingCount}"></td>
								<td class="text-center font-weight-bold" th:text="${totalPartCount}"></td>
							</tr>

							<tr th:each="search, iterStat : ${searchMsnDailyStat}">
								<td class="text-center font-weight-bold" th:text="${#temporals.format(search.partDate, 'yyyy-MM-dd')}"></td>
								<td class="text-center font-weight-bold" th:text="${search.landingCnt}"></td>
								<td class="text-center font-weight-bold" th:text="${search.partCnt}"></td>
							</tr>
							</tbody>
						</table>

						<hr class="my-4">
					</div>
				</div>
			</div>
		</div>
	</div>





</body><!-- end::Body --></html>